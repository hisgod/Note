# 1.概述

* **Kotlin包含List，Set，Map3种集合**
  * **都是接口，并不是实际操作类**
  * **都实现Collection接口**
  * **它们分别还有MutableList<E>、MutableSet<E>、MutableMap<K,V>接口，可进行集合操作**
* **在定义集合类型变量的时候如果使用`List<E>`、`Set<E>`、`Map<K,V>`声明的时候该集合则是不可变集合，而使用`MutableList<E>`、`MutableSet<E>`、`MutableMap<K,V>`的时候该集合才是可变类型集合**

# 2.元素不可变

## Collection接口

* **因为Collection是接口，具体的实现需要采用`listOf`，`setOf`函数**

```kotlin
fun printAll(strings: Collection<String>) {
    for (s in strings) print("$s ")
    println()
}

fun main() {
    val stringList = listOf("one", "two", "one")
    printAll(stringList)

    val stringSet = setOf("one", "two", "three")
    printAll(stringSet)
}
```

### List

* **按照指定顺序存储数据**


```kotlin
fun main() {
    val listOf = listOf<String>("1")
}
```

### Set

```kotlin
fun main() {
    val numbers = setOf(1, 2, 3, 4)
}
```

## Map接口

> 声明

```kotlin
fun main() {
    val mapOf = mapOf<Int, Any>()
}
```

> 构造初始值

```kotlin
class Test {
    @Test
    fun say() {
        //方式1
        val map1 = mapOf<Int, Int>(1 to 1, 2 to 2)
        //方式2
        val map2 = mapOf<Int, Int>(Pair(1,1))
    }

```

# 3.元素可变

## MutableCollection接口

* **是`Collection`接口写操作的对应类**
* **分别对应`list`,`set`,`map`**

```kotlin
fun main() {
    val mutableListOf = mutableListOf<Int>()
    val mutableSetOf = mutableSetOf<String>()
    val mutableMapOf = mutableMapOf<Long, Any>()
}
```

### MutableList

* **包含读取操作**

```kotlin
fun main() {
    val numbers = mutableListOf(1, 2, 3, 4)
    numbers.add(5)
    numbers.removeAt(1)
    numbers[0] = 0
    numbers.shuffle()
    println(numbers)
}
```

### MutableSet

```kotlin
fun main() {
    val mutableSetOf = mutableSetOf<Int>()
}
```

## Map接口

### MutableMap

```kotlin
fun main() {
    val mutableMapOf = mutableMapOf<Any, Any>()
}
```

# 4.空集合

```kotlin
class Test {
    @Test
    fun say() {
        val list = emptyList<Int>()
        val set = emptySet<Int>()
        val map = emptyMap<Int, Int>()
    }
}
```

# 5.遍历

## iterator迭代器

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")
    val numbersIterator = numbers.iterator()
    while (numbersIterator.hasNext()) {
        println(numbersIterator.next())
    }
}
```

## for循环

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")
    for (item in numbers) {
        println(item)
    }
}
```

## forEach

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")
    numbers.forEach {
        println(it)
    }
}
```

>  支持向前向后迭代

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")
    val listIterator = numbers.listIterator()
    while (listIterator.hasNext()) {
        listIterator.next()
    }
    println("Iterating backwards:")
    while (listIterator.hasPrevious()) {
        print("Index: ${listIterator.previousIndex()}")
        println(", value: ${listIterator.previous()}")
    }
}
```

## MutableIterator

可变迭代器，可将元素从集合中删除

```kotlin
fun main() {
    val numbers = mutableListOf("one", "two", "three", "four")
    val mutableIterator = numbers.iterator()

    mutableIterator.next()
    mutableIterator.remove()
    println("After removal: $numbers")
}
```

可变迭代器，可向集合中添加元素，也可以**替换**元素的值

```kotlin
fun main() {
    val numbers = mutableListOf("one", "four", "four")
    val mutableListIterator = numbers.listIterator()

    //插入元素
    mutableListIterator.next()
    mutableListIterator.add("two")

    //替换元素
    mutableListIterator.next()
    mutableListIterator.set("three")
    println(numbers)
}
```

# 6.区间与数列

> `..`顺序迭代

```kotlin
fun main() {
    for (i in 1..4) {
        println(i)
    }
}
```

> `downTo`反向迭代

```kotlin
fun main() {
    for (i in 4 downTo 1) {
        println(i)
    }
}
```

> `step`跳过

```kotlin
fun main() {
    for (i in 1..8 step 2)
        print(i)
    println()
    for (i in 8 downTo 1 step 2)
        print(i)
}

//输出
1357
8642
```

> `until`迭代不包含最后一个索引

```kotlin
fun main() {
    for (i in 1 until 10) {
        print(i)
    }
}

//输出
123456789
```

# 7.过滤

## 筛选

### filter

**满足条件的元素，生成新的集合**

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")
    val longerThan3 = numbers.filter {
        it.length > 3
    }
    println(longerThan3)

    val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
    val filteredMap = numbersMap.filter { (key, value) ->
        key.endsWith("1") && value > 10
    }
    println(filteredMap)
}

//输出
[three, four]
{key11=11}
```

### filterIndexed

**函数参数提供索引以及索引对应的值**

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")

    //函数参数-索引和值
    val filteredIdx = numbers.filterIndexed { index, s ->
        (index != 0) && (s.length < 5)
    }

    println(filteredIdx)
}

//输出
[two, four]
```

### filterNot

**反条件过滤，按函数执行条件过滤一遍，在通过函数反过滤一遍**

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")
    
    //反条件
    val filteredNot = numbers.filterNot {
        it.length <= 3
    }

    println(filteredNot)
}

//输出
[three, four]
```

### filterIsInstance

**按对象进行筛选**

```kotlin
fun main() {
    val numbers = listOf(null, 1, "two", 3.0, "four")
    numbers.filterIsInstance<String>().forEach {
        println(it)
    }
}

//输出
two
four
```

### filterNotNull

**筛选非null类型的元素**

```kotlin
fun main() {
    val numbers = listOf(null, "one", "two", null)
    numbers.filterNotNull().forEach {
        println(it)
    }
}

//输出
one
two
```

## 划分

### partition

**满足条件保存到一个集合，不满足条件保存到另外一个集合**

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")
    val partition = numbers.partition {
        it.length > 3
    }

    println(partition.first)
    println(partition.second)
}

//输出
[three, four]
[one, two]
```

## 检验

### any

**任何一个元素满足条件，输出true，否则false**

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")

    println(numbers.any { it.endsWith("e") })
}

//输出
true
```

### none

**元素没有一个满足条件的，输出true，否则false**

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")

    println(numbers.none { it.endsWith("a") })
}

//输出
true
```

### all

**元素每一个都满足条件，输出true，否则false**

```kotlin
fun main() {
    val numbers = listOf("one", "two", "three", "four")
    println(numbers.all { it.endsWith("e") })
}

//输出
```

