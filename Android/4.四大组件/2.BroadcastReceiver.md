# LocalBroadcastManager

> 概述

LocalBroadcastManager是Android Support包提供了一个工具，用于在同一个应用内的不同组件间发送Broadcast。LocalBroadcastManager也称为局部通知管理器，这种通知的好处是安全性高，效率也高，适合局部通信，可以用来代替Handler更新UI

> 发送数据

```java
Intent intent = new Intent("myaction");	//同普通广播的action，标识哪个广播
intent.putExtra("data", 23);         LocalBroadcastManager.getInstance(LocalBroadcastActivity.this).sendBroadcast(intent);
```

> 注册广播

```java
    private BroadcastReceiver receiver = new BroadcastReceiver() {
        @Override
        public void onReceive(Context context, Intent intent) {
            int data = intent.getIntExtra("data", -1);
            ToastUtils.showShort(data);
        }
    };
    
LocalBroadcastManager.getInstance(this).registerReceiver(receiver, new IntentFilter("myaction"));
```

> 解注册广播

```java
LocalBroadcastManager.getInstance(this).unregisterReceiver(receiver);
```

* **广播需要进行注册并进行解注册，防止内存泄漏**

