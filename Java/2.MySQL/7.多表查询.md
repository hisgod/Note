# 表的关系

## 一对多

>概述

在开发中，我们将一对多的关系，一方称之为主表，多方称之为多表，为了表示一对多的关系，一般会在多表方添加一个字段，字段类型一般和主表的主键的类型保持一致，我们称这个字段为外键

>添加外键约束

为了保证数据的有效性和完整性，添加外键约束，在多表的一方添加外键约束

```
格式：
alter table 多表名称 add foreign key (外键名称) references 一表名称(主键);
```

>外键约束特点

* 主表中不能删除从表中已引用的数据
* 从表中不能添加主表中不存在的数据

---

## 多对多

>概述

多对多的关系表中，我们一般引入一张中间表，在中间表中存放两张表的主键，一般会将这两个主键设置成中间表的联合主键，将多对多拆分成两个一对多的关系，为了保证数据的有效性和完整性，在中间表上添加两个外键约束即可

>添加外键联合主键
```
alter table op add foreign key(oid) references orders(id);
alter table op add  foreign key (pid) references products(id);
```